---
import Footer from "@/components/layout/Footer.astro";
import Hero from "@/components/layout/Hero.astro";
import TechStack from "@/components/layout/TechStack";
import { Card, CardContent } from "@/components/ui/card";
import BaseLayout from "@/layouts/BaseLayout.astro";
import { SITE_CONFIG } from "@/config/site.config";
---

<BaseLayout>
  <!-- Hero Section -->
  <section id="hero" class="min-h-[calc(100vh-3.5rem)]">
    <Hero />
  </section>

  <!-- Bento + Footer Section -->
  <section id="content" class="flex min-h-[calc(100vh-3.5rem)] flex-col">
    <!-- Main content with proper spacing -->
    <main
      class="mx-auto flex max-w-7xl flex-1 items-center px-4 py-8 sm:px-6 sm:py-12 lg:px-8 lg:py-16"
    >
      <!-- Bento Grid -->
      <section
        id="bento"
        class="mx-auto grid w-full max-w-5xl scroll-mt-10 grid-cols-1 gap-4 sm:gap-6 md:grid-cols-3"
      >
        <!-- About -->
        <Card
          className="group hover:border-primary/50 hover:bg-primary/5 cursor-pointer transition-all md:col-span-2"
        >
          <a href="/about" class="block h-full">
            <CardContent className="flex items-center gap-4 p-6 sm:gap-6 sm:p-8">
              <div class="flex-1 text-left">
                <div class="mb-2 flex items-center gap-2 sm:mb-3">
                  <h3 class="text-xl font-bold sm:text-2xl">Sobre mí</h3>
                  <svg
                    class="text-muted-foreground h-4 w-4 transition-transform group-hover:translate-x-1 sm:h-5 sm:w-5"
                    fill="none"
                    stroke="currentColor"
                    viewBox="0 0 24 24"
                  >
                    <path
                      stroke-linecap="round"
                      stroke-linejoin="round"
                      stroke-width="2"
                      d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
                  </svg>
                </div>
                <p class="text-muted-foreground text-sm leading-relaxed sm:text-base">
                  {SITE_CONFIG.description}
                </p>
              </div>
            </CardContent>
          </a>
        </Card>

        <!-- Tech Stack -->
        <Card className="hover:border-primary/50 transition-all md:row-span-2">
          <CardContent className="p-4 sm:p-6">
            <TechStack client:load />
          </CardContent>
        </Card>

        <!-- Docs -->
        <Card
          className="group hover:border-primary/50 hover:bg-primary/5 cursor-pointer transition-all"
        >
          <a href="/docs" class="block h-full">
            <CardContent
              className="flex h-full flex-col items-center justify-center space-y-3 p-6 text-center sm:space-y-4 sm:p-8"
            >
              <div class="transition-transform group-hover:scale-110">
                <img
                  src="/assets/static/obsidian.svg"
                  alt="Obsidian logo"
                  class="mx-auto h-10 w-10 object-contain sm:h-12 sm:w-12"
                />
              </div>
              <div>
                <h3 class="mb-1 text-base font-bold sm:mb-2 sm:text-lg">Documentación</h3>
                <p class="text-muted-foreground text-xs sm:text-sm">Guías y recursos técnicos</p>
              </div>
            </CardContent>
          </a>
        </Card>

        <!-- Projects -->
        <Card
          className="group hover:border-primary/50 hover:bg-primary/5 cursor-pointer transition-all"
        >
          <CardContent
            className="flex h-full flex-col items-center justify-center space-y-3 p-6 text-center sm:space-y-4 sm:p-8"
          >
            <div
              class="bg-primary/10 rounded-full p-2.5 transition-transform group-hover:scale-110 sm:p-3"
            >
              <svg
                class="text-primary h-6 w-6 sm:h-8 sm:w-8"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"
                ></path>
              </svg>
            </div>
            <div>
              <h3 class="mb-1 text-base font-bold sm:mb-2 sm:text-lg">Proyectos</h3>
              <p class="text-muted-foreground text-xs sm:text-sm">Trabajos y experimentos</p>
            </div>
          </CardContent>
        </Card>
      </section>
    </main>

    <!-- Footer -->
    <Footer />
  </section>

  <script>
    import { initScrollSnap } from "@/scripts/scrollSnap";

    // Ejecutar cuando el DOM esté listo
    if (document.readyState === "loading") {
      document.addEventListener("DOMContentLoaded", initScrollSnap);
    } else {
      initScrollSnap();
    }
  </script>
</BaseLayout>
