---
import Footer from "@/components/layout/Footer.astro";
import Hero from "@/components/layout/Hero.astro";
import TechStack from "@/components/layout/TechStack";
import { Card, CardContent } from "@/components/ui/card";
import ScrollIndicator from "@/components/layout/ScrollIndicator.astro";
import BaseLayout from "@/layouts/BaseLayout.astro";
import { SITE_CONFIG } from "@/config/site.config";

import { LinkCard } from "@/components/layout/LinkCard";
import { BookOpen } from "lucide-react";
import GithubIcon from "public/assets/static/github.svg";
---

<BaseLayout showFooter={false}>
  <!-- Hero Section -->
  <section id="hero" class="min-h-[calc(100vh-3.5rem)]">
    <Hero />
  </section>

  <!-- Bento + Footer Section -->
  <section id="content" class="relative flex min-h-screen flex-col lg:pt-12">
    <!-- Bento Grid Container -->
    <div class="flex flex-1 items-center justify-center">
      <section
        id="bento"
        class="mx-auto grid w-full max-w-6xl scroll-mt-10 grid-cols-1 gap-4 px-4 sm:gap-6 sm:px-6 md:grid-cols-3 lg:px-8"
      >
        <!-- About -->
        <LinkCard href="/about" className="md:col-span-2" client:load>
          <div class="flex items-center gap-4 sm:gap-6">
            <div class="flex-1 text-left">
              <div class="mb-2 sm:mb-3">
                <h3 class="text-xl font-bold sm:text-2xl">Sobre mí</h3>
              </div>
              <p class="text-muted-foreground text-sm leading-relaxed sm:text-base">
                {SITE_CONFIG.description}
              </p>
            </div>
          </div>
        </LinkCard>

        <!-- Tech Stack -->
        <Card className="hover:border-primary/50 transition-all md:row-span-2">
          <CardContent className="p-4 sm:p-6">
            <TechStack client:load />
          </CardContent>
        </Card>

        <!-- Docs -->
        <LinkCard href="/docs" client:load>
          <div
            class="flex h-full flex-col items-center justify-center space-y-3 text-center sm:space-y-4"
          >
            <div
              class="bg-primary/10 rounded-full p-2.5 transition-transform group-hover:scale-110 sm:p-3"
            >
              <BookOpen className="text-primary h-6 w-6 sm:h-8 sm:w-8" client:load />
            </div>
            <div>
              <h3 class="mb-1 text-base font-bold sm:mb-2 sm:text-lg">Documentación</h3>
              <p class="text-muted-foreground text-xs sm:text-sm">Guías y recursos técnicos</p>
            </div>
          </div>
        </LinkCard>

        <!-- Projects -->
        <LinkCard href="https://github.com/devcobos?tab=repositories" client:load>
          <div
            class="flex h-full flex-col items-center justify-center space-y-3 text-center sm:space-y-4"
          >
            <div
              class="bg-primary/10 rounded-full p-2.5 transition-transform group-hover:scale-110 sm:p-3"
            >
              <GithubIcon class="text-primary h-6 w-6 sm:h-8 sm:w-8" />
            </div>
            <div>
              <h3 class="mb-1 text-base font-bold sm:mb-2 sm:text-lg">Proyectos</h3>
              <p class="text-muted-foreground text-xs sm:text-sm">Ver en GitHub</p>
            </div>
          </div>
        </LinkCard>
      </section>
    </div>

    <!-- Footer positioned at bottom -->
    <div class="mt-auto">
      <Footer />
    </div>
  </section>

  <!-- Indicador de scroll -->
  <ScrollIndicator />

  <script>
    import { initScrollSnap } from "@/scripts/scrollSnap";

    // Ejecutar cuando el DOM esté listo
    if (document.readyState === "loading") {
      document.addEventListener("DOMContentLoaded", initScrollSnap);
    } else {
      initScrollSnap();
    }
  </script>
</BaseLayout>
